# 高性能MySQL

## 读写锁
- 读锁（共享锁）：相互不阻塞。
- 写锁（排它锁）：阻塞其它的写锁和读锁。（写锁比读锁有更高的优先级，因此写锁可能被插入到读锁队列的前面）

## 锁粒度
- 一种提高共享资源并发性的方式就是让锁定对象更有选择性。尽量只锁定需要修改的部分的数据，而不是所有的资源。
- 但是，加锁也需要消耗资源，锁的获得，检查，释放等各种操作都会增加系统的开销。
	如果系统花费大量的时间来管理锁，而不是存取数据，那么系统的性能可能会因此受到影响。
- 所谓锁的策略，就是在锁的开销和数据的安全性之间寻求平衡。

## 表锁、行级锁
- 表锁（table lock）: `mysql`中最基本的锁策略，并且是开销最小的策略。
- 行级锁（row lock）: 最大程度地支持并发处理（同时也带来了最大的锁开销）。


## 事物
- 事物就是一组原子性的`SQL`查询，或者说一个独立的工作单元。事物内的语句，要么全部执行成功，要么全部执行失败。
- `ACID`表示原子性、一致性、隔离性、持久性
	+ 原子性(atomicity): 一个事物必须被视为一个不可分割的最小单元，整个事物中的所有操作要么全部提交成功，要么全部失败回滚，对于一个事物来说，不能只执行其中的一部分操作，这就是事物的原子性。
	+ 一致性(consistency): 数据库总是从一个一致性的状态转换到另外一个一致性的状态。即使事物过程中系统崩溃，因为事物最终没有提交，所以事物中所作的修改也不会保存到数据库中。
	+ 隔离性(isolation): 通常来说
	+ 持久性(durability):
